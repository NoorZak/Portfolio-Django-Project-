<div class="container" >

            <form id="insertForm" class="col-md-offset-3  col-md-6" action="validator" method="post">
                {% csrf_token %}

                <div class="form-group">
                    <label for="first_name" class="control-label">First Name</label>
                    <input type="text" class="form-control" id="first_name" name="first_name" placeholder="first name">
                      <span id="fname_error" class="text-danger">{{errors.fname_error}}</span>

                </div>

                <div class="form-group">
                    <label for="last_name" class="control-label">Last Name</label>
                    <input type="text" class="form-control" id="last_name" name="last_name" placeholder="last name">
                    <span id="lname_error" class="text-danger"></span>

                </div>


                <div class="form-group">
                    <label for="email" class="control-label">Email</label>
                    <input type="email" class="form-control" id="email" name="email" placeholder="email">
                    <span id="email_error" class="text-danger"></span>

                </div>

                <div class="form-group">
                    <label for="password" class="control-label">Password</label>
                    <input type="password" class="form-control" id="password" name="password" placeholder="password">
                    <span id="pwd_error" class="text-danger"></span>

                </div>

                <div class="form-group">
                    <label for="cpassword" class="control-label">Confirm Password</label>
                    <input type="password" class="form-control" id="cpassword" name="cpassword" placeholder="confirm password">
                    <span id="cpwd_error" class="text-danger"></span>

                </div>

                <button id="submit" type="submit" class="btn btn-dark">Insert</button>
            </form>
</div>

<script>
$(document).ready(function(){

 $('#insertForm').on('submit', function(event){
  event.preventDefault();
  $.ajax({
   url:insert/validation",
   method:"POST",
   data:$(this).serialize(),
   dataType:"json",
   beforeSend:function(){
    $('#submit').attr('disabled', 'disabled');
   },
   success:function(data)
   {
    if(data.error)
    {
     if(data.fname_error != '')
     {
      $('#fname_error').html(data.fname_error);
     }
     else
     {
      $('#fname_error').html('');
     }
     if(data.lname_error != '')
     {
      $('#lname_error').html(data.lname_error);
     }
     else
     {
      $('#lname_error').html('');
     }
     if(data.email_error != '')
     {
      $('#email_error').html(data.uname_error);
     }
     else
     {
      $('#email_error').html('');
     }
     if(data.pwd_error != '')
     {
      $('#pwd_error').html(data.pwd_error);
     }
     else
     {
      $('#pwd_error').html('');
     }
    if(data.cpwd_error != '')
     {
      $('#cpwd_error').html(data.cpwd_error);
     }
     else
     {
      $('#cpwd_error').html('');
     }



    }
    if(data.success)
    {
     $('#success_message').html(data.success);
     $('#fname_error').html('');
     $('#lname_error').html('');
     $('#email').html('');
     $('#pwd_error').html('');
     $('#cpwd_error').html('');

     $('#signup_form')[0].reset();
    }
    $('#submit').attr('disabled', false);
   }
  })
 });

});
</script>
